(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{226:function(e,t,o){var content=o(229);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(55).default)("a25c3988",content,!0,{sourceMap:!1})},227:function(e,t,o){var content=o(233);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(55).default)("2e107364",content,!0,{sourceMap:!1})},228:function(e,t,o){"use strict";var n=o(226);o.n(n).a},229:function(e,t,o){(t=o(54)(!1)).push([e.i,".row[data-v-bc84e5b0]{padding:5px 0}.row.getup[data-v-bc84e5b0],.row.gotobed[data-v-bc84e5b0],.row.sleep[data-v-bc84e5b0]{background-color:#fff}.row.sleep .time select[data-v-bc84e5b0]:first-child{color:#d08754}.row.sleep .time select[data-v-bc84e5b0]:last-child{color:#c34343}.row.eat[data-v-bc84e5b0]{background-color:#e4f1ff}.row.eat .message input[data-v-bc84e5b0],.row.eat .time select[data-v-bc84e5b0]{color:#4981bd}.row .time[data-v-bc84e5b0]{position:relative;padding-left:15px;width:40%!important}.row .time select[data-v-bc84e5b0]{width:auto}.row .time select.custom-select[data-v-bc84e5b0]{padding:0;background:none;border:0}.row .message[data-v-bc84e5b0]{position:relative;width:60%!important}.row .message svg[data-v-bc84e5b0]{color:#999}.row .message .form-control[data-v-bc84e5b0]{width:80%;border:0;background-color:transparent;display:inline-block;padding-left:0;padding-right:0}.row .message .fa-ellipsis-v[data-v-bc84e5b0]{position:absolute;top:50%;right:10px;transform:translateY(-50%);color:#999}.row.eat .message svg[data-v-bc84e5b0]{color:#6a9bd0}",""]),e.exports=t},232:function(e,t,o){"use strict";var n=o(227);o.n(n).a},233:function(e,t,o){(t=o(54)(!1)).push([e.i,"@import url(https://fonts.googleapis.com/css?family=Noto+Sans+TC:300,400,500,700,900&display=swap);"]),t.push([e.i,"body,html{font-family:Noto Sans TC,sans-serif;font-size:400;background-color:#f9f9f9;color:#333}.row{margin:0}#setting{padding-top:10px}#setting .container .row .w-25{position:relative}#setting .container .row .w-25 label{position:absolute;top:-6px;left:10px;font-size:8px;background-color:#fff;z-index:2}#setting .container .row .w-25 select{width:90%}#setting .container .row .w-25 select.custom-select{padding-right:.75rem;background:none}#schedule{margin-top:10px}#total{font-size:1.5rem;padding:30px 0;text-align:center}#total span{display:block}#total span.nap{color:#528a51}#total span.sleep{color:#bd642f}#version{right:5px;font-size:.5rem}#save,#version{position:fixed;bottom:5px;z-index:1}#save{left:10px;font-size:1.5rem;border:0;background-color:transparent;padding:0}.alert{position:fixed;bottom:30px;left:10px}",""]),e.exports=t},235:function(e,t,o){"use strict";o.r(t);o(32);var n=o(91),l=o(0),r={components:{BIcon:n.a,BIconMoon:l.Ud},props:["item","index","timeOptions"],methods:{changeSleepTime:function(e,t){this.$emit("reset",e,t)},changeEatTime:function(e,t){this.$emit("reset",e,t)}}},m=(o(228),o(58)),c=Object(m.a)(r,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"row",class:e.item.type},[o("div",{staticClass:"time w-50"},["sleep"==e.item.type?o("div",[o("b-form-select",{attrs:{options:e.timeOptions},on:{change:function(t){return e.changeSleepTime(e.index,"start")}},model:{value:e.item.sleep.start,callback:function(t){e.$set(e.item.sleep,"start",t)},expression:"item.sleep.start"}}),e._v(" "),o("span",[e._v("~")]),e._v(" "),o("b-form-select",{attrs:{options:e.timeOptions},on:{change:function(t){return e.changeSleepTime(e.index,"end")}},model:{value:e.item.sleep.end,callback:function(t){e.$set(e.item.sleep,"end",t)},expression:"item.sleep.end"}})],1):o("b-form-select",{attrs:{options:e.timeOptions},on:{change:function(t){return e.changeEatTime(e.index,e.item.type)}},model:{value:e.item.time,callback:function(t){e.$set(e.item,"time",t)},expression:"item.time"}})],1),e._v(" "),o("div",{staticClass:"message w-50"},["getup"==e.item.type?o("fa",{attrs:{icon:["fas","sun"]}}):"sleep"==e.item.type||"gotobed"==e.item.type?o("fa",{attrs:{icon:["fas","moon"]}}):o("fa",{attrs:{icon:["fas","utensils"]}}),e._v(" "),o("b-form-input",{model:{value:e.item.message,callback:function(t){e.$set(e.item,"message",t)},expression:"item.message"}}),e._v(" "),o("fa",{attrs:{icon:["fas","ellipsis-v"]}})],1)])}),[],!1,null,"bc84e5b0",null).exports,h=o(230),d={components:{Item:c,Draggable:o.n(h).a},data:function(){return{version:"2.7",activeHouse:2.5,eatTimes:4,sleepTimes:3,eatHours:4,napTotal:0,sleepTotal:0,items:[],houses:[1.5,2,2.5,3,3.5,4],timeOptions:[],hoursOptions:[],eatOptions:[],sleepOptions:[],showAlert:!1,message:"",dismissCountDown:0}},created:function(){this.timeOptions=[];for(var dt=new Date,e="".concat(dt.getFullYear(),"/").concat(dt.getMonth()+1,"/").concat(dt.getDate()," "),time=new Date(e+"00:00");time.getDate()==dt.getDate();){time.setTime(time.getTime()+3e5);var t=("0"+time.getHours()).substr(-2)+":"+("0"+time.getMinutes()).substr(-2);this.timeOptions.push({text:t,value:t})}for(var i=1;i<=5;)this.hoursOptions.push({text:i+" 小時",value:i}),i+=.5;for(var o=1;o<=5;)this.eatOptions.push({text:o+" 次",value:o}),this.sleepOptions.push({text:o+" 次",value:o}),++o;var n=this.$cookies.get("babyschedule");n&&n.length>0&&(this.items=n,this.reset(0,"getup"))},methods:{create:function(){var dt=new Date,e="".concat(dt.getFullYear(),"/").concat(dt.getMonth()+1,"/").concat(dt.getDate()," "),t=new Date(e+" 06:00"),o=new Date(t.getTime()+36e5),n=new Date,l=new Date,r=new Date,m=new Date,c=new Date;this.$cookies.removeAll(),this.items=[],this.items.push({type:"getup",message:"起床",time:this.getTime(new Date(t))});var h=0,d=0;this.items.push({type:"eat",message:"第 ".concat(++h," 餐"),time:this.getTime(new Date(o))});for(var v=this.eatTimes>this.sleepTimes?this.eatTimes:this.sleepTimes,i=1;i<=v;i++){if(d<this.sleepTimes){++d,n=new Date(t.getTime()),(l=new Date(t.getTime()+60*this.activeHouse*60*1e3)).valueOf()<o.valueOf()&&(l=new Date(o)),r=new Date(l.getTime()+9e5),m=new Date(r.getTime()+36e5),t.setTime(m.getTime()),c=new Date(m-r);var f=Math.floor(c.getTime()/36e5)+parseFloat((c.getUTCMinutes()/60).toFixed(2)),w=new Date(r-n),T=Math.floor(w.getTime()/36e5)+parseFloat((w.getUTCMinutes()/60).toFixed(2));this.items.push({type:"sleep",message:"小睡 ".concat(f,"H (間隔 ").concat(T,"H)"),sleep:{start:this.getTime(r),end:this.getTime(m)},total:f})}if(h<this.eatTimes){var D=new Date(o.getTime());o.setTime(o.getTime()+144e5),o.valueOf()<t.valueOf()&&(o=new Date(t));var x=new Date(o-D),y=Math.floor(x.getTime()/36e5)+parseFloat((x.getUTCMinutes()/60).toFixed(2));this.items.push({type:"eat",message:"第 ".concat(++h," 餐 (間隔 ").concat(y,"H)"),time:this.getTime(new Date(o))})}}(l=new Date(t.getTime()+60*(this.activeHouse+1)*60*1e3)).valueOf()<o.valueOf()&&(l=new Date(o)),r=new Date(l.getTime()+18e5),this.items.push({type:"gotobed",message:"睡覺 (".concat(this.getTime(l)," 洗澡)"),time:this.getTime(r)}),this.total()},reset:function(e,t){var dt=new Date,o="".concat(dt.getFullYear(),"/").concat(dt.getMonth()+1,"/").concat(dt.getDate()," "),n=new Date,l=new Date,r=new Date,m=new Date,c=new Date,h=new Date;if("gotobed"==t)return n=new Date(o+" "+this.items[e].time),m.setTime(n.getTime()-24e5),this.items[e].message="睡覺 (".concat(this.getTime(m)," 洗澡)"),void this.total();if("start"==t||"end"==t){r=new Date,n=new Date(o+" "+this.items[e].sleep.start),m.setTime(n.getTime()-9e5),c=new Date(n),(h=new Date(o+" "+this.items[e].sleep.end)).valueOf()<c.valueOf()&&(h=new Date(n.getTime()+18e5));for(var d=new Date(h-c),v=Math.floor(d.getTime()/36e5)+parseFloat((d.getUTCMinutes()/60).toFixed(2)),f=e-1;"sleep"!=this.items[f].type&&"getup"!=this.items[f].type&&f>0;)--f;r=new Date(o+" "+("sleep"==this.items[f].type?this.items[f].sleep.end:this.items[f].time));var w=new Date(c-r),T=Math.floor(w.getTime()/36e5)+parseFloat((w.getUTCMinutes()/60).toFixed(2));"start"==t&&(this.items[e].sleep={start:this.getTime(c),end:this.getTime(h)}),this.items[e].message="小睡 ".concat(v,"H (間隔 ").concat(T,"H)"),this.items[e].total=v;for(var D=e-1;"eat"!=this.items[D].type&&D>0;)--D;if(!this.items[D].type)for(D=e+1;"eat"!=this.items[D].type;)++D;l=new Date(o+" "+this.items[D].time),n.setTime(h.getTime())}else if("getup"==t)n=new Date(o+" "+this.items[e].time),l=new Date(n.getTime()-60*(this.eatHours-1)*60*1e3);else if("eat"==t){for(var x=e-1;"eat"!=this.items[x].type&&x>0;)--x;var y=new Date(o+" "+this.items[x].time);l=new Date(o+" "+this.items[e].time);var _=new Date(l-y),O=Math.floor(_.getTime()/36e5)+parseFloat((_.getUTCMinutes()/60).toFixed(2));for(this.items[e].message="".concat(this.items[e].message.split("餐")[0],"餐 (間隔 ").concat(O,"H)"),x=e-1;"getup"!=this.items[x].type&&"sleep"!=this.items[x].type;)--x;n=new Date(o+" "+("getup"==this.items[x].type?this.items[x].time:this.items[x].sleep.end))}for(var i=e+1;i<this.items.length;i++){if("sleep"==this.items[i].type){r=new Date(n.getTime()),m=new Date,c=new Date,h=new Date,m.setTime(n.getTime()+60*this.activeHouse*60*1e3),m.valueOf()<l.valueOf()&&(m=new Date(l)),c.setTime(m.getTime()+9e5),h.setTime(c.getTime()+36e5),n.setTime(h.getTime());var M=new Date(h-c),k=Math.floor(M.getTime()/36e5)+parseFloat((M.getUTCMinutes()/60).toFixed(2)),C=new Date(c-r),F=Math.floor(C.getTime()/36e5)+parseFloat((C.getUTCMinutes()/60).toFixed(2));this.items[i].message="小睡 ".concat(k,"H (間隔 ").concat(F,"H)"),this.items[i].sleep={start:this.getTime(c),end:this.getTime(h)},this.items[i].total=k}if("eat"==this.items[i].type){var H=new Date(l.getTime());l.setTime(l.getTime()+144e5);var U=new Date(l-H),$=Math.floor(U.getTime()/36e5)+parseFloat((U.getUTCMinutes()/60).toFixed(2));l.valueOf()<n.valueOf()&&(l=new Date(n)),this.items[i].message="".concat(this.items[i].message.split("餐")[0],"餐 (間隔 ").concat($,"H)"),this.items[i].time=this.getTime(new Date(l))}"gotobed"==this.items[i].type&&(n.setTime(n.getTime()+60*(this.activeHouse+1)*60*1e3),m.setTime(n.getTime()-24e5),this.items[i].message="睡覺 (".concat(this.getTime(m)," 洗澡)"),this.items[i].time=this.getTime(new Date(n)))}this.total()},total:function(){this.napTotal=0;for(var i=0;i<this.items.length;i++)"sleep"==this.items[i].type&&(this.napTotal+=this.items[i].total);this.napTotal=parseFloat(this.napTotal.toFixed(1)),this.sleepTotal=0;var dt=new Date,e="".concat(dt.getFullYear(),"/").concat(dt.getMonth()+1,"/").concat(dt.getDate()," "),t=new Date(e+this.items[0].time);t.setDate(t.getDate()+1);var o=new Date(e+this.items[this.items.length-1].time),n=new Date(t-o);this.sleepTotal=Math.floor(n.getTime()/36e5)+parseFloat((n.getUTCMinutes()/60).toFixed(2))},save:function(){this.$cookies.set("babyschedule",this.items,{path:"/",maxAge:604800}),this.dismissCountDown=2,this.message="已儲存",this.showAlert=!0},getTime:function(dt){return("0"+dt.getHours()).substr(-2)+":"+("0"+dt.getMinutes()).substr(-2)}}},v=(o(232),Object(m.a)(d,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("section",{attrs:{id:"setting"}},[o("b-container",[o("div",{staticClass:"row"},[o("div",{staticClass:"w-25"},[o("label",[e._v("喝奶次數")]),e._v(" "),o("b-form-select",{attrs:{options:e.eatOptions},model:{value:e.eatTimes,callback:function(t){e.eatTimes=t},expression:"eatTimes"}})],1),e._v(" "),o("div",{staticClass:"w-25"},[o("label",[e._v("小睡次數")]),e._v(" "),o("b-form-select",{attrs:{options:e.sleepOptions},model:{value:e.sleepTimes,callback:function(t){e.sleepTimes=t},expression:"sleepTimes"}})],1),e._v(" "),o("div",{staticClass:"w-25"},[o("label",[e._v("清醒時間")]),e._v(" "),o("b-form-select",{attrs:{options:e.hoursOptions},model:{value:e.activeHouse,callback:function(t){e.activeHouse=t},expression:"activeHouse"}})],1),e._v(" "),o("div",{staticClass:"w-25"},[o("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.create()}}},[e._v("Submit")])],1)])])],1),e._v(" "),o("section",{attrs:{id:"schedule"}},[o("draggable",{attrs:{handle:".fa-ellipsis-v"},model:{value:e.items,callback:function(t){e.items=t},expression:"items"}},e._l(e.items,(function(t,n){return o("item",{key:n,attrs:{item:t,index:n,timeOptions:e.timeOptions,disabled:0==n},on:{reset:e.reset}})})),1)],1),e._v(" "),e.napTotal>0?o("section",{attrs:{id:"total"}},[o("span",{staticClass:"nap"},[e._v("小睡："+e._s(e.napTotal)+" 小時")]),e._v(" "),o("span",{staticClass:"sleep"},[e._v("長睡眠："+e._s(e.sleepTotal)+" 小時")])]):e._e(),e._v(" "),o("div",{attrs:{id:"version"}},[e._v("v"+e._s(e.version))]),e._v(" "),o("button",{attrs:{id:"save"},on:{click:function(t){return e.save()}}},[o("fa",{attrs:{icon:["far","save"]}})],1),e._v(" "),o("b-alert",{attrs:{fade:"",show:e.dismissCountDown,dismissible:"",variant:"success"},on:{dismissed:function(t){e.dismissCountDown=0}}},[e._v("\n    "+e._s(e.message)+"\n  ")])],1)}),[],!1,null,null,null));t.default=v.exports}}]);